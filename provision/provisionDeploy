#!/bin/bash

################################################################################
#                                                                              #
#                                 {o,o}                                        #
#                                 |)__)                                        #
#                                 -"-"-                                        #
#                                                                              #
################################################################################
#
# This provision script runs after the containers are started, as it runs in
# the containers
#
##############################---VARIABLES---###################################

DBCONTAINER="$(basename $(pwd) | sed -e 's/-//g')_db_1"

################################################################################

##############################---FUNCTIONS---###################################

function importData() {
	# Import tables - schemas
	docker run -it --rm \
	--link ${DBCONTAINER}:db \
	kendu/postgresql:9.4 \
	bash provision/postgresql/prepareDB.sh || exit 1

}
################################################################################

###############################---EXECUTION---##################################

importData

################################################################################
